{"version":3,"sources":["webpack:///src/views/marketing-ms/new/index.vue","webpack:///./src/views/marketing-ms/new/index.vue?7e02","webpack:///./src/views/marketing-ms/new/index.vue"],"names":["defaultListQuery","keyword","pageNum","pageSize","newStatus","marketing_ms_new","name","data","selectDialogVisible","operates","label","value","operateType","listQuery","assign_default","list","total","dialogLoading","listLoading","selectProductCateValue","multipleSelection","dialogData","created","console","log","this","getList","filters","verifyStatusFilter","methods","_this","Object","dish","then","response","arrays","catch","err","handleSearchList","handleSelectDialogConfirm","_this2","$confirm","confirmButtonText","cancelButtonText","type","ids","forEach","item","push","id","updateNewStatus","handleSelectSearch","getDialogList","handleDialogSizeChange","val","handleDialogCurrentChange","handleAddDish","_this3","handleBatchOperate","_this4","length","$message","message","duration","i","handleSizeChange","handleCurrentChange","dialogHandleSelectionChange","handleSelectionChange","handleNewStatusChange","index","row","handleResetSearch","_this5","params","URLSearchParams","append","views_marketing_ms_new","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","shadow","_v","staticStyle","float","size","on","click","$event","margin-right","margin-top","inline","model","label-width","width","placeholder","callback","$$v","$set","expression","directives","rawName","ref","default-sort","prop","order","border","selection-change","align","sortable","scopedSlots","_u","key","fn","scope","_s","height","src","dishImg","price","active-text","active-value","inactive-value","change","$index","sale","_l","margin-left","background","layout","page-size","page-sizes","current-page","size-change","current-change","update:currentPage","title","visible","update:visible","margin-bottom","slot","icon","row-class-name","tableRowClassName","clear","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/20.5560da33561e98306983.js","sourcesContent":["<template>\r\n   \r\n  <div class=\"app-container\">\r\n    <!-- 搜索栏 -->\r\n    <el-card class=\"filter-container\" shadow=\"never\">\r\n      <div>\r\n        <i class=\"el-icon-search\"></i>\r\n        <span>筛选搜索</span>\r\n        <el-button\r\n          style=\"float: right\"\r\n          @click=\"handleSearchList()\"\r\n          type=\"primary\"\r\n          size=\"small\"\r\n        >\r\n          查询\r\n        </el-button>\r\n        <el-button\r\n          style=\"float: right; margin-right: 15px\"\r\n          @click=\"handleResetSearch()\"\r\n          size=\"small\"\r\n        >\r\n          重置\r\n        </el-button>\r\n      </div>\r\n\r\n      <div style=\"margin-top: 15px\">\r\n        <el-form\r\n          :inline=\"true\"\r\n          :model=\"listQuery\"\r\n          size=\"small\"\r\n          label-width=\"140px\"\r\n        >\r\n          <el-form-item label=\"菜品名称：\">\r\n            <el-input\r\n              style=\"width: 203px\"\r\n              v-model=\"listQuery.keyword\"\r\n              placeholder=\"菜品名称\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </el-card>\r\n\r\n    <el-card class=\"operate-container\" shadow=\"never\">\r\n      <i class=\"el-icon-tickets\"></i>\r\n      <span>数据列表</span>\r\n      <el-button class=\"btn-add\" @click=\"handleAddDish()\" size=\"mini\">\r\n        添加菜品\r\n      </el-button>\r\n    </el-card>\r\n\r\n    <!-- 展示部分 -->\r\n    <!-- 对象数组是 :data list，这是 El元素的 table  -->\r\n    <div class=\"table-container\">\r\n      <el-table\r\n        ref=\"productTable\"\r\n        :data=\"list\"\r\n        style=\"width: 100%\"\r\n        @selection-change=\"handleSelectionChange\"\r\n        v-loading=\"listLoading\"\r\n        :default-sort=\"{ prop: 'id', order: 'ascending' }\"\r\n        border\r\n      >\r\n        <el-table-column\r\n          type=\"selection\"\r\n          width=\"60\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n\r\n        <el-table-column\r\n          label=\"编号\"\r\n          width=\"100\"\r\n          align=\"center\"\r\n          prop=\"id\"\r\n          sortable\r\n        >\r\n          <template slot-scope=\"scope\">{{ scope.row.id }}</template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"菜品图片\" width=\"120\" align=\"center\">\r\n          <template slot-scope=\"scope\"\r\n            ><img style=\"height: 80px\" :src=\"scope.row.dishImg\"\r\n          /></template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"菜品名称\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{ scope.row.name }}</template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"价格\" sortable=\"\" width=\"120\" align=\"center\">\r\n          <template slot-scope=\"scope\">价格：￥{{ scope.row.price }}</template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"标签\" width=\"140\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-switch\r\n              @change=\"handleNewStatusChange(scope.$index, scope.row)\"\r\n              active-text=\"新品推荐\"\r\n              :active-value=\"1\"\r\n              :inactive-value=\"0\"\r\n              v-model=\"scope.row.newStatus\"\r\n            >\r\n            </el-switch>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column sortable label=\"销量\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{ scope.row.sale }}</template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n\r\n    <div class=\"batch-operate-container\">\r\n      <el-select size=\"small\" v-model=\"operateType\" placeholder=\"批量操作\">\r\n        <el-option\r\n          v-for=\"item in operates\"\r\n          :key=\"item.value\"\r\n          :label=\"item.label\"\r\n          :value=\"item.value\"\r\n        >\r\n        </el-option>\r\n      </el-select>\r\n      <el-button\r\n        style=\"margin-left: 20px\"\r\n        class=\"search-button\"\r\n        @click=\"handleBatchOperate()\"\r\n        type=\"primary\"\r\n        size=\"small\"\r\n      >\r\n        确定\r\n      </el-button>\r\n    </div>\r\n\r\n    <!-- 分页  -->\r\n    <div class=\"pagination-container\">\r\n      <el-pagination\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :page-size=\"listQuery.pageSize\"\r\n        :page-sizes=\"[5, 10, 20, 40, 80]\"\r\n        :current-page.sync=\"listQuery.pageNum\"\r\n        :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n\r\n    <el-dialog title=\"选择菜品\" :visible.sync=\"selectDialogVisible\" width=\"50%\">\r\n      <el-input\r\n        v-model=\"dialogData.listQuery.keyword\"\r\n        style=\"width: 250px; margin-bottom: 20px\"\r\n        size=\"small\"\r\n        placeholder=\"菜品名称搜索\"\r\n      >\r\n        <el-button\r\n          slot=\"append\"\r\n          icon=\"el-icon-search\"\r\n          @click=\"handleSelectSearch()\"\r\n        ></el-button>\r\n      </el-input>\r\n\r\n      <el-table\r\n        :data=\"dialogData.list\"\r\n        :row-class-name=\"tableRowClassName\"\r\n        border\r\n         @selection-change=\"dialogHandleSelectionChange\"\r\n      >\r\n      <el-table-column\r\n          type=\"selection\"\r\n          width=\"60\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column label=\"菜品ID\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{ scope.row.id }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"菜品名称\" width=\"160\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{ scope.row.name }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"菜品类型\" width=\"160\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{\r\n            scope.row.id >= 100000 ? \"套餐\" : \"菜品\"\r\n          }}</template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <div class=\"pagination-container\">\r\n        <el-pagination\r\n          background\r\n          @size-change=\"handleDialogSizeChange\"\r\n          @current-change=\"handleDialogCurrentChange\"\r\n          layout=\"prev, pager, next\"\r\n          :current-page.sync=\"dialogData.listQuery.pageNum\"\r\n          :page-size=\"dialogData.listQuery.pageSize\"\r\n          :page-sizes=\"[5, 10, 15]\"\r\n          :total=\"dialogData.total\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n      <div style=\"clear: both\"></div>\r\n\r\n      <div slot=\"footer\">\r\n        <el-button size=\"small\" @click=\"selectDialogVisible = false\"\r\n          >取 消</el-button\r\n        >\r\n        <el-button\r\n          size=\"small\"\r\n          type=\"primary\"\r\n          @click=\"handleSelectDialogConfirm()\"\r\n          >确 定</el-button\r\n        >\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n\r\n<script>\r\nimport {\r\n  fetchList,\r\n  updateDeleteStatus,\r\n  updateNewStatus,\r\n  updatePublishStatus,\r\n  getDishStock,\r\n  updateDishStock,\r\n} from \"@/api/dish\";\r\n\r\nconst defaultListQuery = {\r\n  keyword: null,\r\n  pageNum: 1,\r\n  pageSize: 10,\r\n  newStatus: 1,\r\n};\r\n\r\nexport default {\r\n  name: \"productList\",\r\n  data() {\r\n    return {\r\n      selectDialogVisible: false,\r\n      //批量操作\r\n      operates: [\r\n        {\r\n          label: \"全部取消新品推荐\",\r\n          value: \"newOff\",\r\n        },\r\n      ],\r\n      operateType: null,\r\n      listQuery: Object.assign({}, defaultListQuery),\r\n      list: null,\r\n      total: null,\r\n      dialogLoading: false,\r\n      listLoading: true,\r\n      selectProductCateValue: null,\r\n      multipleSelection: [],\r\n      dialogData: {\r\n        list: null,\r\n        total: null,\r\n        listQuery: {\r\n          keyword: null,\r\n          pageNum: 1,\r\n          pageSize: 5,\r\n          newStatus: 0,\r\n        },\r\n        multipleSelection: [],\r\n      },\r\n    };\r\n  },\r\n  //初始化函数, created 和 mounted 都是页面加载初始化的函数\r\n  created() {\r\n    console.log(\"页面初始化\");\r\n    this.getList();\r\n  },\r\n\r\n  filters: {\r\n    verifyStatusFilter(value) {\r\n      if (value === 1) {\r\n        return \"审核通过\";\r\n      } else {\r\n        return \"未审核\";\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    getList() {\r\n      console.log(\"调用getList()\");\r\n      console.log(this.listQuery);\r\n      this.listLoading = true;\r\n      fetchList(this.listQuery)\r\n        .then((response) => {\r\n          console.log(response);\r\n          this.listLoading = false;\r\n          this.list = response.data.arrays;\r\n          this.total = response.data.total;\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"错误\" + err);\r\n        });\r\n    },\r\n\r\n    handleSearchList() {\r\n      this.listQuery.pageNum = 1;\r\n      this.getList();\r\n    },\r\n    handleSelectDialogConfirm() {\r\n      this.$confirm(\"是否要进行该批量操作?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      }).then(() => {\r\n        let ids = [];\r\n        this.dialogData.multipleSelection.forEach(item=>ids.push(item.id));\r\n        this.selectDialogVisible = false;\r\n        this.updateNewStatus(1, ids);\r\n      });\r\n      \r\n    },\r\n    handleSelectSearch() {\r\n      this.getDialogList();\r\n    },\r\n    handleDialogSizeChange(val) {\r\n      this.dialogData.listQuery.pageNum = 1;\r\n      this.dialogData.listQuery.pageSize = val;\r\n      this.getDialogList();\r\n    },\r\n    handleDialogCurrentChange(val) {\r\n      this.dialogData.listQuery.pageNum = val;\r\n      this.getDialogList();\r\n    },\r\n    handleAddDish() {\r\n      this.getDialogList();\r\n      this.selectDialogVisible = true;\r\n    },\r\n    getDialogList() {\r\n      fetchList(this.dialogData.listQuery).then((response) => {\r\n        console.log(\"调用成功\");\r\n        this.dialogData.list = response.data.arrays;\r\n        this.dialogData.total = response.data.total;\r\n      });\r\n    },\r\n    //批量删除操作\r\n    handleBatchOperate() {\r\n      if (this.operateType == null) {\r\n        this.$message({\r\n          message: \"请选择操作类型\",\r\n          type: \"warning\",\r\n          duration: 1000,\r\n        });\r\n        return;\r\n      }\r\n      if (this.multipleSelection == null || this.multipleSelection.length < 1) {\r\n        this.$message({\r\n          message: \"请选择要操作的商品\",\r\n          type: \"warning\",\r\n          duration: 1000,\r\n        });\r\n        return;\r\n      }\r\n      this.$confirm(\"是否要进行该批量操作?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      }).then(() => {\r\n        let ids = [];\r\n        for (let i = 0; i < this.multipleSelection.length; i++) {\r\n          ids.push(this.multipleSelection[i].id);\r\n        }\r\n        switch (this.operateType) {\r\n          case this.operates[0].value:\r\n            this.updateNewStatus(0, ids);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        this.getList();\r\n      });\r\n    },\r\n    //分页大小改变\r\n    handleSizeChange(val) {\r\n      this.listQuery.pageNum = 1;\r\n      this.listQuery.pageSize = val;\r\n      this.getList();\r\n    },\r\n    //当前页数改变\r\n    handleCurrentChange(val) {\r\n      this.listQuery.pageNum = val;\r\n      this.getList();\r\n    },\r\n    dialogHandleSelectionChange(val) {\r\n      this.dialogData.multipleSelection = val;\r\n      console.log(val, this.dialogData.multipleSelection);\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n      console.log(val, this.multipleSelection);\r\n    },\r\n    handleNewStatusChange(index, row) {\r\n      let ids = [];\r\n      ids.push(row.id);\r\n      console.log(\"resc\", row.newStatus);\r\n      this.updateNewStatus(row.newStatus, ids);\r\n    },\r\n    //重置\r\n    handleResetSearch() {\r\n      this.selectProductCateValue = [];\r\n      this.listQuery = Object.assign({}, defaultListQuery);\r\n    },\r\n    updateNewStatus(newStatus, ids) {\r\n      let params = new URLSearchParams();\r\n      params.append(\"dishIds\", ids);\r\n      params.append(\"newStatus\", newStatus);\r\n      updateNewStatus(params).then((response) => {\r\n        this.$message({\r\n          message: \"修改成功\",\r\n          type: \"success\",\r\n          duration: 1000,\r\n        });\r\n        this.getList();\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style></style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/marketing-ms/new/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-card',{staticClass:\"filter-container\",attrs:{\"shadow\":\"never\"}},[_c('div',[_c('i',{staticClass:\"el-icon-search\"}),_vm._v(\" \"),_c('span',[_vm._v(\"筛选搜索\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.handleSearchList()}}},[_vm._v(\"\\n        查询\\n      \")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handleResetSearch()}}},[_vm._v(\"\\n        重置\\n      \")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.listQuery,\"size\":\"small\",\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"菜品名称：\"}},[_c('el-input',{staticStyle:{\"width\":\"203px\"},attrs:{\"placeholder\":\"菜品名称\"},model:{value:(_vm.listQuery.keyword),callback:function ($$v) {_vm.$set(_vm.listQuery, \"keyword\", $$v)},expression:\"listQuery.keyword\"}})],1)],1)],1)]),_vm._v(\" \"),_c('el-card',{staticClass:\"operate-container\",attrs:{\"shadow\":\"never\"}},[_c('i',{staticClass:\"el-icon-tickets\"}),_vm._v(\" \"),_c('span',[_vm._v(\"数据列表\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-add\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleAddDish()}}},[_vm._v(\"\\n      添加菜品\\n    \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"table-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],ref:\"productTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"default-sort\":{ prop: 'id', order: 'ascending' },\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"60\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"编号\",\"width\":\"100\",\"align\":\"center\",\"prop\":\"id\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.id))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"菜品图片\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"height\":\"80px\"},attrs:{\"src\":scope.row.dishImg}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"菜品名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.name))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"价格\",\"sortable\":\"\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"价格：￥\"+_vm._s(scope.row.price))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"标签\",\"width\":\"140\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-text\":\"新品推荐\",\"active-value\":1,\"inactive-value\":0},on:{\"change\":function($event){_vm.handleNewStatusChange(scope.$index, scope.row)}},model:{value:(scope.row.newStatus),callback:function ($$v) {_vm.$set(scope.row, \"newStatus\", $$v)},expression:\"scope.row.newStatus\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"label\":\"销量\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.sale))]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"batch-operate-container\"},[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"批量操作\"},model:{value:(_vm.operateType),callback:function ($$v) {_vm.operateType=$$v},expression:\"operateType\"}},_vm._l((_vm.operates),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})),_vm._v(\" \"),_c('el-button',{staticClass:\"search-button\",staticStyle:{\"margin-left\":\"20px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.handleBatchOperate()}}},[_vm._v(\"\\n      确定\\n    \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, sizes, prev, pager, next, jumper\",\"page-size\":_vm.listQuery.pageSize,\"page-sizes\":[5, 10, 20, 40, 80],\"current-page\":_vm.listQuery.pageNum,\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.listQuery, \"pageNum\", $event)}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"选择菜品\",\"visible\":_vm.selectDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.selectDialogVisible=$event}}},[_c('el-input',{staticStyle:{\"width\":\"250px\",\"margin-bottom\":\"20px\"},attrs:{\"size\":\"small\",\"placeholder\":\"菜品名称搜索\"},model:{value:(_vm.dialogData.listQuery.keyword),callback:function ($$v) {_vm.$set(_vm.dialogData.listQuery, \"keyword\", $$v)},expression:\"dialogData.listQuery.keyword\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){_vm.handleSelectSearch()}},slot:\"append\"})],1),_vm._v(\" \"),_c('el-table',{attrs:{\"data\":_vm.dialogData.list,\"row-class-name\":_vm.tableRowClassName,\"border\":\"\"},on:{\"selection-change\":_vm.dialogHandleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"60\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"菜品ID\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.id))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"菜品名称\",\"width\":\"160\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.name))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"菜品类型\",\"width\":\"160\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.id >= 100000 ? \"套餐\" : \"菜品\"))]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.dialogData.listQuery.pageNum,\"page-size\":_vm.dialogData.listQuery.pageSize,\"page-sizes\":[5, 10, 15],\"total\":_vm.dialogData.total},on:{\"size-change\":_vm.handleDialogSizeChange,\"current-change\":_vm.handleDialogCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.dialogData.listQuery, \"pageNum\", $event)}}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.selectDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSelectDialogConfirm()}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1330d9f2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/marketing-ms/new/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1330d9f2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1330d9f2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/marketing-ms/new/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}